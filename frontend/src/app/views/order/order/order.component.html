<div class="order">
  <div class="container">
    <div class="order-title">Оформление вашего заказа</div>
    <div class="order-info">
      <div class="order-form" [formGroup]="orderForm">
        <div class="order-form-block">
          <div class="order-form-label">Выберите способ доставки</div>
          <div class="order-form-types">
            <div
              class="order-form-type-item"
              [class.active]="deliveryType === deliveryTypes.delivery"
              (click)="changeDeliveryType(deliveryTypes.delivery)"
            >
              Курьером
            </div>
            <div
              class="order-form-type-item"
              [class.active]="deliveryType === deliveryTypes.self"
              (click)="changeDeliveryType(deliveryTypes.self)"
            >
              Самовывоз
            </div>
          </div>
        </div>

        <div class="order-form-block">
          <div class="order-form-label">Заполните личные данные</div>
          <div class="order-form-inputs personal-data-inputs">
            <input
              type="text"
              class="input"
              placeholder="Фамилия"
              formControlName="lastName"
              [ngStyle]="{
                'border-color':
                  orderForm.get('lastName')?.invalid &&
                  (orderForm.get('lastName')?.touched ||
                    orderForm.get('lastName')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input"
              placeholder="Имя"
              formControlName="firstName"
              [ngStyle]="{
                'border-color':
                  orderForm.get('firstName')?.invalid &&
                  (orderForm.get('firstName')?.touched ||
                    orderForm.get('firstName')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input"
              placeholder="Отчество"
              formControlName="fatherName"
              [ngStyle]="{
                'border-color':
                  orderForm.get('fatherName')?.invalid &&
                  (orderForm.get('fatherName')?.touched ||
                    orderForm.get('fatherName')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input"
              placeholder="Телефон"
              formControlName="phone"
              [ngStyle]="{
                'border-color':
                  orderForm.get('phone')?.invalid &&
                  (orderForm.get('phone')?.touched ||
                    orderForm.get('phone')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input"
              placeholder="E-mail"
              formControlName="email"
              [ngStyle]="{
                'border-color':
                  orderForm.get('email')?.invalid &&
                  (orderForm.get('email')?.touched ||
                    orderForm.get('email')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
          </div>
        </div>

        <div
          class="order-form-block"
          *ngIf="deliveryType !== deliveryTypes.self"
        >
          <div class="order-form-label">Заполните адрес доставки</div>
          <div class="order-form-inputs adress-inputs">
            <input
              type="text"
              class="input street"
              placeholder="Улица"
              formControlName="street"
              [ngStyle]="{
                'border-color':
                  orderForm.get('street')?.invalid &&
                  (orderForm.get('street')?.touched ||
                    orderForm.get('street')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input house"
              placeholder="№ дома"
              formControlName="house"
              [ngStyle]="{
                'border-color':
                  orderForm.get('house')?.invalid &&
                  (orderForm.get('house')?.touched ||
                    orderForm.get('house')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input entrance"
              placeholder="Подъезд"
              formControlName="entrance"
              [ngStyle]="{
                'border-color':
                  orderForm.get('entrance')?.invalid &&
                  (orderForm.get('entrance')?.touched ||
                    orderForm.get('entrance')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
            <input
              type="text"
              class="input apartment"
              placeholder="№ квартиры"
              formControlName="apartment"
              [ngStyle]="{
                'border-color':
                  orderForm.get('apartment')?.invalid &&
                  (orderForm.get('apartment')?.touched ||
                    orderForm.get('apartment')?.dirty)
                    ? 'red'
                    : ''
              }"
            />
          </div>
        </div>

        <div class="order-form-block">
          <div class="order-form-label">Выберите способ оплаты</div>
          <div class="order-form-radio">
            <div class="order-form-radio-block">
              <input
                type="radio"
                class="input"
                id="card"
                value="{{ paymentTypes.cardOnline }}"
                formControlName="paymentType"
              />
              <label for="card"
                >Оплата банковской картой в интернет-магазине</label
              >
            </div>
            <div class="order-form-radio-block">
              <input
                type="radio"
                class="input"
                id="cashless"
                value="{{ paymentTypes.cardToCourier }}"
                formControlName="paymentType"
              />
              <label for="cashless">Безналичный расчет при получении</label>
            </div>
            <div class="order-form-radio-block">
              <input
                type="radio"
                class="input"
                id="cash"
                value="{{ paymentTypes.cashToCourier }}"
                formControlName="paymentType"
              />
              <label for="cash">Наличный расчет при получении</label>
            </div>
          </div>
        </div>

        <div class="order-form-block">
          <div class="order-form-label">
            Комментарий к заказу (необязательно)
          </div>
          <div class="order-form-inputs">
            <textarea
              cols="30"
              rows="5"
              class="input"
              placeholder="Оставьте свой комментарий..."
              formControlName="comment"
              [ngStyle]="{
                'border-color':
                  orderForm.get('comment')?.invalid &&
                  (orderForm.get('comment')?.touched ||
                    orderForm.get('comment')?.dirty)
                    ? 'red'
                    : ''
              }"
            ></textarea>
          </div>
        </div>
      </div>
      <div class="order-details">
        <div class="order-detais-info">
          <div class="order-details-info-title">Ваш заказ</div>
          <div class="order-details-info-item">
            <div class="order-details-info-item-text">Товаров</div>
            <div class="order-details-info-item-data">{{ totalCount }} РУБ</div>
          </div>
          <div class="order-details-info-item">
            <div class="order-details-info-item-text">Общая стоимость:</div>
            <div class="order-details-info-item-data">
              {{ totalAmount }} РУБ
            </div>
          </div>
          <div class="order-details-info-item">
            <div class="order-details-info-item-text">Стоимость доставки:</div>
            <div class="order-details-info-item-data">10 РУБ</div>
          </div>
          <div class="order-details-info-item">
            <div class="order-details-info-item-text">Итоговая стоимость:</div>
            <div class="order-details-info-item-data">
              {{ totalAmount + 10 }} РУБ
            </div>
          </div>
        </div>

        <button class="button" (click)="createOrder()">
          Подтвердить заказ
        </button>
      </div>
    </div>
  </div>
</div>
